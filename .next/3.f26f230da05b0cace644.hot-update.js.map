{"version":3,"sources":["webpack:///./components/Contribute.js?aa30"],"names":["ContributeForm","state","value","errorMessage","loading","onSubmit","event","preventDefault","campaign","Campaign","props","setState","web3","eth","getAccounts","accounts","methods","contribute","send","from","utils","toWei","Router","replaceRoute","console","log","message","target"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AACA;AACA;AACA;AACA;;IAEMA,c;;;;;;;;;;;;;;;0MAEFC,K,GAAQ;AACJC,mBAAM,EADF;AAEJC,0BAAa,EAFT;AAGJC,qBAAS;AAHL,S,QAMRC,Q;+HAAW,iBAAOC,KAAP;AAAA;AAAA;AAAA;AAAA;AAAA;AACPA,sCAAMC,cAAN;AACMC,wCAFC,GAEU,2EAAAC,CAAS,MAAKC,KAAL,CAAWF,QAApB,CAFV;;;AAIP,sCAAKG,QAAL,CAAc,EAAEP,SAAS,IAAX,EAAiBD,cAAa,EAA9B,EAAd;;AAJO;AAAA;AAAA,uCAOoB,+DAAAS,CAAKC,GAAL,CAASC,WAAT,EAPpB;;AAAA;AAOGC,wCAPH;AAAA;AAAA,uCAQGP,SAASQ,OAAT,CAAiBC,UAAjB,GAA8BC,IAA9B,CAAmC;AACrCC,0CAAMJ,SAAS,CAAT,CAD+B;AAErCb,2CAAO,+DAAAU,CAAKQ,KAAL,CAAWC,KAAX,CAAiB,MAAKpB,KAAL,CAAWC,KAA5B,EAAkC,OAAlC;AACP;AAHqC,iCAAnC,CARH;;AAAA;;AAcHoB,gCAAA,+CAAAA,CAAOC,YAAP,iBAAkC,MAAKb,KAAL,CAAWF,QAA7C;AACA;AAfG;AAAA;;AAAA;AAAA;AAAA;;AAiBHgB,wCAAQC,GAAR,CAAY,QAAZ;AACA,sCAAKd,QAAL,CAAc,EAAER,cAAc,YAAIuB,OAApB,EAAd;;AAlBG;;AAqBP,sCAAKf,QAAL,CAAc,EAAEP,SAAS,KAAX,EAAkBF,OAAM,EAAxB,EAAd;;AArBO;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,a;;;;;;;;;;iCAwBH;AAAA;;AACJ,mBACI;AAAC,+EAAD;AAAA,kBAAM,UAAU,KAAKG,QAArB,EAA+B,OAAO,CAAC,CAAC,KAAKJ,KAAL,CAAWE,YAAnD;AAAA;AAAA;AAAA;AAAA;AACI;AAAC,mFAAD,CAAM,KAAN;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qBADJ;AAEI,gFAAC,gEAAD;AACI,+BAAO,KAAKF,KAAL,CAAWC,KADtB;AAEI,kCAAU;AAAA,mCAAS,OAAKS,QAAL,CAAc,EAACT,OAAOI,MAAMqB,MAAN,CAAazB,KAArB,EAAd,CAAT;AAAA,yBAFd;AAGI,+BAAM,OAHV;AAII,uCAAc,OAJlB;AAAA;AAAA;AAAA;AAAA;AAAA;AAFJ,iBADJ;AAUQ,4EAAC,kEAAD,IAAS,WAAT,EAAe,QAAO,OAAtB,EAA8B,SAAS,KAAKD,KAAL,CAAWE,YAAlD;AAAA;AAAA;AAAA;AAAA,kBAVR;AAWQ;AAAC,qFAAD;AAAA,sBAAQ,aAAR,EAAgB,SAAS,KAAKF,KAAL,CAAWG,OAApC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAXR,aADJ;AAiBH;;;;;;;;;EAlDwB,gD;;eAqDdJ,c;;;AAAf;;;;;;;;;;;;4BArDMA,c","file":"3.f26f230da05b0cace644.hot-update.js","sourcesContent":["import React, {Component} from 'react';\r\nimport {Form, Input, Button, Message, Grid} from 'semantic-ui-react';\r\nimport Campaign from '../ethereum/campaign';\r\nimport web3 from '../ethereum/web3';\r\nimport {Router} from '../routes';\r\n\r\nclass ContributeForm extends Component{\r\n\r\n    state = {\r\n        value:'',\r\n        errorMessage:'',\r\n        loading: false\r\n    };\r\n\r\n    onSubmit = async (event) => {\r\n        event.preventDefault();\r\n        const campaign = Campaign(this.props.campaign);\r\n\r\n        this.setState({ loading: true, errorMessage:'' });\r\n        \r\n        try{\r\n            const accounts = await web3.eth.getAccounts();\r\n            await campaign.methods.contribute().send({\r\n                from: accounts[0],\r\n                value: web3.utils.toWei(this.state.value,'ether')\r\n                //value: this.state.value\r\n            });\r\n\r\n            Router.replaceRoute(`/campaigns/${this.props.campaign}`);\r\n            //value: web3.utils.toWei(this.state.value, 'ether')\r\n        } catch (err) {\r\n            console.log(\"Error!\", err);\r\n            this.setState({ errorMessage: err.message })\r\n        }\r\n\r\n        this.setState({ loading: false, value:'' });\r\n    };\r\n\r\n    render(){\r\n        return (\r\n            <Form onSubmit={this.onSubmit} error={!!this.state.errorMessage}>\r\n                <Form.Field>\r\n                    <label>Amount to contribute</label>\r\n                    <Input\r\n                        value={this.state.value}\r\n                        onChange={event => this.setState({value: event.target.value})}\r\n                        label=\"ether\"\r\n                        labelPosition=\"right\"\r\n                    />\r\n                </Form.Field>\r\n                    <Message error header=\"Oops!\" content={this.state.errorMessage}></Message>\r\n                    <Button primary loading={this.state.loading}>\r\n                        Contribute\r\n                    </Button>\r\n            </Form>\r\n        )\r\n    }\r\n}\r\n\r\nexport default ContributeForm;\n\n\n// WEBPACK FOOTER //\n// ./components/Contribute.js"],"sourceRoot":""}